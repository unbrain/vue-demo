<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/default.css">
    <link rel="stylesheet" href="./css/resume.css">
    <link rel="stylesheet" href="./css/editable-span.css">
    <link rel="stylesheet" href="./css/login.css">
    <link rel="stylesheet" href="./css/share.css">
    <link rel="stylesheet" href="./css/print.css" media="print">
    <script src="//at.alicdn.com/t/font_712967_knwn14ro9f.js"></script>
    <title>简历编辑器</title>

</head>

<body>
    <div class="page" id="app">
        <aside v-show="mode === 'edit'">
            <div class="up">
                <div @click="onClickSave()">保存</div>
                <div @click="shareVisible = !shareVisible">分享</div>
                <div>换肤</div>
                <div @click="window.print()">打印</div>
            </div>


            <div class="down" v-cloak>
                <div @click="logOut()" v-show="currentUser.objectId">登出</div>
                <div @click="onClickSave()" v-show="!currentUser.objectId">注册</div>
            </div>
        </aside>
        
        <resume :mode="mode" :display-resume="displayResume"></resume>
        <div v-show="loginVisible" class="login" v-cloak>
            <form class="form" @submit.prevent="loginUser">
                <h1>登录</h1>
                <div class="close" @click="loginVisible=false">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-close"></use>
                    </svg>
                </div>
                <div class="row">
                    <label for="">邮箱</label>
                    <input type="text" v-model="loginData.email">
                </div>
                <div class="row">
                    <label for="">密码</label>
                    <input type="password" v-model="loginData.password">
                </div>
                <div class="actions">
                    <button type="submit">提交</button>
                    <button @click="loginVisible = false; signUpVisible = true " type="button">注册</button>
                </div>
            </form>
        </div>
        <div v-show="signUpVisible" class="signUp" v-cloak>
            <form class="form" @submit.prevent="saveUser()">
                <h1>注册</h1>
                <div class="close" @click="signUpVisible=false">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-close"></use>
                    </svg>
                </div>
                <div class="row">
                    <label for="">邮箱</label>
                    <input type="text" v-model="signUpData.email">
                </div>
                <div class="row">
                    <label for="">密码</label>
                    <input type="password" v-model="signUpData.password">
                </div>
                <div class="actions">
                    <button type="submit">提交</button>
                    <button @click="signUpVisible = false; loginVisible = true" type="button">登录</button>
                </div>
            </form>
        </div>
        <div v-show="shareVisible" class="share" v-cloak>
            <h1>分享链接</h1>
            <div class="close" @click="shareVisible=false">
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-close"></use>
                </svg>
            </div>
            <textarea readonly>{{ shareURL }}</textarea>
        </div>
        <div class="exitPreview" v-if="mode === 'preview'" @click="mode = 'edit'">
            <button>退出预览</button>
        </div>



    </div>

    <script src="../vendors/av-min.js"></script>
    <script src="../vendors/vue.min.js"></script>
    <script src="./js/av.js"></script>
    <script src="./js/editable-span.js"></script>
    <script src="./js/resume.js"></script>
    <script src="./js/app.js"></script>
    <script>


    </script>
</body>

</html>